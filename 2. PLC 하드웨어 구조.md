# 2. PLC 하드웨어 구조

## 2.1 CPU 모듈

### ✅ 정의

**CPU 모듈**은 PLC 시스템의 핵심이자 **두뇌 역할**을 수행하는 부분이다.
 모든 입력 신호를 읽고, 프로그램 로직을 처리하며, 결과에 따라 출력 신호를 제어한다.

➡️ PLC 내부에서 **연산, 제어, 입출력 스캔, 통신, 내부 상태 관리**를 담당하는 중심 장치다.

------

### ✅ 주요 역할

| 역할                  | 설명                                                       |
| --------------------- | ---------------------------------------------------------- |
| **입력 처리**         | 외부 센서, 스위치 등의 입력 상태를 주기적으로 읽음         |
| **프로그램 실행**     | 래더 다이어그램 등 제어 프로그램을 순차적으로 해석 및 실행 |
| **출력 제어**         | 계산된 결과에 따라 릴레이, 모터, 램프 등의 출력을 ON/OFF   |
| **통신 관리**         | HMI, 다른 PLC, SCADA 등과의 데이터 통신 처리               |
| **메모리 관리**       | 변수, 타이머, 카운터 등의 데이터를 읽고 기록               |
| **에러 감지 및 처리** | 비정상 상황을 감지하고 로그를 생성하거나 알람을 출력       |

------

### ✅ 구성 요소

| 구성 요소                    | 설명                                                 |
| ---------------------------- | ---------------------------------------------------- |
| **연산 프로세서 (CPU Core)** | 명령어 실행, 논리 처리, 연산, 상태 관리              |
| **RAM**                      | 프로그램 실행 중 변수 저장, 버퍼 메모리 역할         |
| **ROM / Flash**              | 사용자 프로그램 및 설정값 저장                       |
| **리얼타임 클럭 (RTC)**      | 타임스탬프, 주기 동기, 시간 기반 이벤트 처리         |
| **Watchdog Timer**           | 이상 발생 시 자동 리셋 (무한 루프, 동작 정지 방지용) |
| **통신 포트**                | RS-232, RS-485, Ethernet, USB 등 통신 기능 탑재      |
| **LED 표시등**               | RUN, ERROR, COM 등 현재 상태 시각화 표시             |

------

### ✅ Scan Cycle (스캔 사이클)

CPU는 일정한 주기로 아래의 과정을 반복 수행한다. 이것을 **Scan Cycle**이라 부른다.

```
[1] 입력 스캔 (Input Read)
      ↓
[2] 논리 실행 (Program Execution)
      ↓
[3] 출력 갱신 (Output Write)
      ↓
[4] 통신 및 내부 처리
      ↓
[5] 다음 사이클 반복
```

📌 일반적으로 1 스캔 사이클은 수 ms 수준이며,
 고속 제어가 필요한 경우에는 **인터럽트 처리**나 **고속 입출력 모듈**을 별도로 사용하기도 한다.

------

### ✅ 스캔 시간 관련 고려사항

- 프로그램이 너무 길면 → 스캔 시간이 길어짐 → **출력 반응 지연** 발생 가능
- 예: 스캔 시간 100ms → 버튼 누르고 0.1초 후에 모터 동작
- 고속성 필요한 작업은 → **고속 카운터 모듈**, **인터럽트 태스크**로 처리

------

### ✅ 제조사별 CPU 모듈 예시

| 제조사            | CPU 모듈 시리즈             | 특징                                |
| ----------------- | --------------------------- | ----------------------------------- |
| **Siemens**       | S7-1200 / S7-1500           | TIA Portal 기반, 강력한 통신/시각화 |
| **Mitsubishi**    | FX5U / Q CPU / iQ-R         | 모션 제어 내장, GX Works3 지원      |
| **LS산전**        | XGB / XGI CPU               | 국산 PLC, XG5000 기반               |
| **Allen-Bradley** | CompactLogix / ControlLogix | Studio 5000 사용, Ethernet/IP 특화  |
| **Omron**         | NJ/NX 시리즈                | EtherCAT, Sysmac Studio 통합 환경   |

------

### ✅ 실무 적용 시 체크사항

| 항목                      | 설명                                                    |
| ------------------------- | ------------------------------------------------------- |
| **입출력 처리 용량**      | 몇 개의 I/O를 처리 가능한가? (확장성)                   |
| **프로세서 속도**         | 실시간 반응이 필요한가? (스캔타임 요구사항)             |
| **통신 방식**             | Ethernet, Modbus, CAN 등 연동 장비와 호환되는가?        |
| **메모리 크기**           | 프로그램 및 데이터 용량 충분한가?                       |
| **내장 기능**             | 타이머/카운터 외 특수 기능 내장 여부 (PID, 고속처리 등) |
| **프로젝트 백업 및 복원** | SD카드, USB, 네트워크 등 백업 지원 여부                 |

------

### ✅ 정리

- **CPU 모듈은 PLC의 중심**으로서 모든 연산과 제어를 담당한다.
- 안정성과 실시간성이 매우 중요하며, 다양한 **통신과 입출력의 중심 허브** 역할을 한다.
- 시스템 설계 시 CPU의 **성능, 확장성, 프로그래밍 환경**을 기준으로 선택해야 한다.

## 2.2 전원 공급 모듈

### ✅ 정의

**전원 공급 모듈(Power Supply Unit, PSU)**은 PLC 시스템 전체에 **안정적이고 일정한 전압과 전류**를 공급하는 장치다.
 PLC의 **CPU, I/O 모듈, 통신 모듈** 등이 모두 정상 작동할 수 있도록 필수적인 기반을 제공한다.

➡️ 전원 모듈이 불안정하면 PLC 전체가 오작동하거나 리셋될 수 있기 때문에, **PLC의 신뢰성 확보에 있어 가장 중요한 기반 요소 중 하나**다.

------

### ✅ 주요 역할

| 역할                 | 설명                                                         |
| -------------------- | ------------------------------------------------------------ |
| **전원 변환**        | 외부에서 입력되는 교류 전원(AC)을 PLC가 사용할 수 있는 직류 전원(DC)으로 변환 |
| **전압 안정화**      | 전압 변화에도 일정한 전압 유지 (레귤레이터 내장)             |
| **모듈별 전원 분배** | CPU, I/O, 통신 모듈 등 각 구성 요소에 필요한 전압 및 전류 공급 |
| **보호 기능**        | 과전압, 과전류, 단락, 온도 상승 등의 이상을 감지하고 보호    |
| **절연 기능**        | 고전압 노이즈로부터 내부 회로를 보호 (SMPS 방식 등)          |

------

### ✅ 입력 전원 유형

| 입력 방식          | 설명                                                  |
| ------------------ | ----------------------------------------------------- |
| **AC 220V / 110V** | 산업용/가정용 AC 전원 사용 (50/60Hz)                  |
| **DC 24V**         | 일부 소형 시스템, 모바일 시스템에서 DC 직접 입력      |
| **이중 전원 입력** | 전원 이중화 지원 시(UPS, 배터리 백업), 자동 전환 가능 |

------

### ✅ 출력 전원 사양

| 출력 항목                | 설명                                                         |
| ------------------------ | ------------------------------------------------------------ |
| **DC 24V (가장 보편적)** | 대부분의 PLC 모듈과 센서, 릴레이 코일 등에 사용              |
| **전류 용량**            | 예: 1A, 2A, 5A 이상 — 전체 시스템 소비 전류 합산 기준으로 결정 |
| **복수 출력**            | 일부 PSU는 5V, 12V 등 멀티 전압 지원 가능                    |

------

### ✅ 보호 및 상태 표시 기능

| 기능                  | 설명                                            |
| --------------------- | ----------------------------------------------- |
| **과전류 보호 (OCP)** | 전류 초과 시 자동 차단 또는 전류 제한           |
| **과전압 보호 (OVP)** | 출력 전압이 일정 이상 상승할 경우 차단          |
| **온도 보호 (OTP)**   | 내부 온도 상승 시 자동 차단                     |
| **단락 보호 (SCP)**   | 출력 단자 간 쇼트 발생 시 전원 차단             |
| **상태 표시 LED**     | 정상 작동, 경고, 고장 상태 등을 시각적으로 표시 |

------

### ✅ 전원 용량 산정법 (실무 기준)

PLC 시스템 설계 시, 전체 전력 소비를 다음과 같이 계산한다:

```
총 소모 전류 = CPU 모듈 소비 전류 + I/O 모듈 소비 전류 + 센서/릴레이 등 외부 부하 전류
여유분 포함하여 약 120% 수준으로 PSU 용량 선정
```

예)

```
CPU: 300 mA  
입력 모듈: 100 mA  
출력 모듈: 200 mA  
센서 등 주변 부하: 400 mA  
→ 총합: 1000 mA → 전원 모듈은 최소 1.2 A 이상 권장
```

------

### ✅ 제조사별 전원 모듈 예시

| 제조사            | 전원 모듈     | 출력                             |
| ----------------- | ------------- | -------------------------------- |
| **Siemens**       | S7-1500 PM-1  | 24V DC, 2.5A                     |
| **Mitsubishi**    | FX5-PSU       | 24V DC, 5A                       |
| **LS산전**        | XGL-PSA / PSR | 24V DC, 2.5A 이상                |
| **Omron**         | S8VK 시리즈   | 5V / 12V / 24V DC, 다양한 정격   |
| **Allen-Bradley** | 1606-XLS      | 24V DC, 2.5~10A 등 다양한 라인업 |

------

### ✅ 실무 적용 팁

- **I/O 모듈이 많거나 부하가 큰 경우** 반드시 충분한 전력 용량 확보 필요
- 전원 이중화 설계를 위해 **UPS 또는 배터리 백업 시스템 연동** 가능
- 노이즈에 민감한 시스템에서는 **노이즈 필터 + 접지(GND) 설계 중요**
- **리니어 전원 공급 vs SMPS(Switching Mode Power Supply)**: 대부분은 고효율 SMPS 방식 사용

------

### ✅ 정리

- 전원 공급 모듈은 PLC 전체 동작을 가능하게 하는 **생명줄**
- 선택 시, **전압 정격**, **출력 전류 용량**, **보호 기능**, **노이즈 내성** 등을 고려해야 하며
   **전체 시스템의 소비 전력을 정확히 계산하여 여유 있게 설계**하는 것이 핵심이다.

## 2.3 입력 모듈 (Digital Input, Analog Input)

### ✅ 개요

**입력 모듈(Input Module)**은 PLC가 외부 세계로부터 **신호를 받아들이는 장치**다.
 센서, 스위치, 버튼 등에서 발생하는 **전기적 신호를 감지하고**,
 이를 PLC 내부의 논리 연산에 사용할 수 있도록 처리한다.

입력 모듈은 크게 **디지털 입력(DI)**과 **아날로그 입력(AI)**으로 나뉜다.

------

### ✅ 1. 디지털 입력 모듈 (DI: Digital Input)

#### 📌 정의

디지털 입력은 **0 또는 1 (ON/OFF)**, 즉 **이진 신호**를 받아들이는 모듈이다.

#### 📌 주요 신호 소스

- 푸시버튼 (누르면 1, 안 누르면 0)
- 리미트 스위치
- 근접센서 (NPN/PNP)
- 포토센서
- 마이크로 스위치
- PLC 간 제어 신호

#### 📌 입력 전압 기준

| 구분             | 설명                                                         |
| ---------------- | ------------------------------------------------------------ |
| **DC 타입**      | 24V DC 신호 입력 (가장 일반적)                               |
| **AC 타입**      | 110V 또는 220V AC 입력도 가능 (특수 환경용)                  |
| **NPN/PNP 방식** | 트랜지스터 출력 방식에 따라 입력 방식 다름 (전류 싱킹 vs 소싱) |

#### 📌 예시: 8채널 디지털 입력 모듈

- 입력 단자 수: 8점 (IN0~IN7)
- 입력 범위: 24V DC
- 각 입력마다 내부 풀업 저항/LED 표시 내장 가능

------

### ✅ 2. 아날로그 입력 모듈 (AI: Analog Input)

#### 📌 정의

아날로그 입력은 **연속적인 전기 신호(전압 또는 전류)**를 받아들이는 모듈로,
 **온도, 압력, 유량, 거리** 등 **연속적인 물리량을 정밀하게 측정**할 수 있다.

#### 📌 주요 신호 소스

- 써미스터, RTD, 열전대 (온도)
- 압력 트랜스듀서
- 거리 센서 (초음파, 레이저)
- 수위 센서
- 유량계
- 전위차계 (조도, 회전각 등)

#### 📌 입력 범위 예시

| 구분        | 전류형  | 전압형           |
| ----------- | ------- | ---------------- |
| 일반 범위   | 4~20 mA | 0~~10 V / 1~~5 V |
| 고정밀 범위 | ±10 V   | 0~50 mV 등       |

#### 📌 해상도 및 샘플링

- **12비트 / 14비트 / 16비트** 해상도 일반
- 해상도가 높을수록 미세한 변화 감지 가능
- 샘플링 속도: 수십~수천 Hz

#### 📌 내부 처리

1. 센서 신호 → 아날로그 전압/전류
2. AI 모듈이 **A/D 변환기**를 통해 디지털 신호로 변환
3. PLC 내부 변수에 값 저장 → 연산 및 모니터링에 사용

------

### ✅ 디지털 입력 vs 아날로그 입력 요약 비교

| 항목      | 디지털 입력 (DI)     | 아날로그 입력 (AI)       |
| --------- | -------------------- | ------------------------ |
| 신호 유형 | ON/OFF (2진)         | 연속적인 전류/전압       |
| 예시      | 스위치, 센서 감지    | 온도, 압력, 수위 등      |
| 입력 값   | 0 또는 1             | 0.00 ~ 65535 (스케일 값) |
| 필요 장비 | 단순 센서            | 센서 + 트랜스듀서 필요   |
| 변환      | 없음                 | A/D 변환 필요            |
| 제어 용도 | 조건 분기, 상태 감지 | 정량적 제어, PID 연산    |

------

### ✅ 실무 설계 시 고려사항

| 항목                    | 설명                                                         |
| ----------------------- | ------------------------------------------------------------ |
| **입력 채널 수**        | 사용 장비 수에 따라 선택 (8, 16, 32채널 등)                  |
| **입력 전압/전류 규격** | 사용하는 센서/스위치와 호환되는 전압 확인                    |
| **노이즈 내성**         | 아날로그의 경우 특히 중요 → 쉴드 배선 필요                   |
| **입력 필터링**         | 디지털의 경우 채터링 방지용 필터 내장 여부 확인              |
| **스케일링**            | 아날로그 입력은 실제 물리값으로 환산 필요 (예: 0~~10V → 0~~100℃) |

------

### ✅ 제조사별 입력 모듈 예시

| 제조사        | 디지털 입력 모듈 | 아날로그 입력 모듈 |
| ------------- | ---------------- | ------------------ |
| Siemens       | SM 1221 DI       | SM 1231 AI         |
| Mitsubishi    | FX5-16EX         | FX5-4AD            |
| LS산전        | XBC-DR16         | XBF-AD04A          |
| Allen-Bradley | 1769-IQ16        | 1769-IF4           |
| Omron         | CJ1W-ID211       | CJ1W-AD042         |

------

### ✅ 정리

- **입력 모듈은 PLC가 외부 세계를 인식하는 감각기관**이며,
   디지털 입력은 **단순 ON/OFF**, 아날로그 입력은 **정량적 데이터**를 다룬다.
- 시스템 설계 시, 입력 장치의 **종류, 수량, 전압/전류 사양, 노이즈** 등을 고려해 모듈을 선택해야 한다.

## 2.4 출력 모듈 (Digital Output, Analog Output)

### ✅ 개요

**출력 모듈(Output Module)**은 PLC가 **외부 장치를 제어하기 위해 신호를 출력하는 장치**다.
 PLC 내부에서 논리적으로 처리된 결과를 바탕으로, 실제로 **모터, 릴레이, 램프, 밸브 등**을 작동시킨다.

출력 모듈은 크게 **디지털 출력(DO)**과 **아날로그 출력(AO)**으로 나뉜다.

------

### ✅ 1. 디지털 출력 모듈 (DO: Digital Output)

#### 📌 정의

디지털 출력은 **0 또는 1의 이진 신호**를 출력하여 외부 장치를 **켜거나 끄는 역할**을 한다.

#### 📌 주요 출력 대상

- 릴레이, 접촉기
- 경광등, 부저, 램프
- 솔레노이드 밸브
- DC/AC 모터 시동 신호
- 푸시풀(PNP/NPN) 방식 센서

#### 📌 출력 방식

| 출력 방식           | 설명                                                         |
| ------------------- | ------------------------------------------------------------ |
| **릴레이 출력**     | 기계적 접점으로 다른 회로를 차단/접속 전기 절연, 다양한 부하에 적합 (AC/DC 모두) |
| **트랜지스터 출력** | 빠른 ON/OFF 제어에 유리, DC 전용 NPN/PNP 방식 구분 필요      |
| **트라이악 출력**   | AC 부하 전용, 램프나 히터 제어에 적합                        |

#### 📌 예시: 16채널 디지털 출력 모듈

- 출력 수: 16점 (OUT0 ~ OUT15)
- 출력 방식: 트랜지스터 (NPN 타입)
- 출력 전압: 24V DC
- 최대 부하 전류: 채널당 0.5A

------

### ✅ 2. 아날로그 출력 모듈 (AO: Analog Output)

#### 📌 정의

아날로그 출력은 **전압이나 전류의 연속적인 아날로그 값을 출력**하여,
 **속도 조절, 위치 제어, 온도 조절 등의 정밀한 제어**에 사용된다.

#### 📌 주요 출력 대상

- 인버터(속도 제어 입력)
- 서보 드라이버 (위치/속도 지령)
- 아날로그 계기 (디지털-아날로그 표시)
- 온도 제어기, 유량 제어기

#### 📌 출력 유형

| 출력 방식     | 전류형 (I-type)    | 전압형 (V-type)               |
| ------------- | ------------------ | ----------------------------- |
| **출력 범위** | 4~20 mA            | 0~~10V, ±10V, 1~~5V 등        |
| **특징**      | 장거리 전송에 강함 | 정밀하고 직관적인 제어에 유리 |

#### 📌 내부 처리

PLC 내부의 정수/실수 값 → **D/A 변환기**를 통해 전압 또는 전류 형태로 변환
 ➡️ 외부 제어 장비가 이를 받아 동작 수행

------

### ✅ 디지털 출력 vs 아날로그 출력 비교

| 항목      | 디지털 출력 (DO)             | 아날로그 출력 (AO)                  |
| --------- | ---------------------------- | ----------------------------------- |
| 신호 형태 | ON/OFF (1 또는 0)            | 연속적인 값 (0~~10V, 4~~20mA)       |
| 제어 대상 | 모터, 램프, 밸브, 릴레이 등  | 인버터, 서보, 히터 등 정량제어 대상 |
| 출력 방식 | 릴레이, 트랜지스터, 트라이악 | D/A 변환 기반                       |
| 정밀도    | 단순                         | 고정밀 필요                         |
| 제어 용도 | 단순 동작/정지 제어          | 속도, 위치, 온도 등 연속값 제어     |

------

### ✅ 실무 설계 시 고려사항

| 항목                    | 고려 사항                                                |
| ----------------------- | -------------------------------------------------------- |
| **출력 부하 전압/전류** | 장치 사양과 모듈 사양 일치 여부 확인                     |
| **출력 방식 (NPN/PNP)** | 주변 장치의 입력 방식과 일치해야 정상 동작               |
| **릴레이 수명**         | 릴레이 출력은 기계적 수명 한계 고려 필요                 |
| **과부하 보호**         | 출력 채널당 최대 전류 초과 시 회로 보호 필요             |
| **절연 여부**           | 고전압 출력 시, 채널 간 또는 시스템과의 절연 고려        |
| **출력 펄스 기능**      | 고속 제어 시 PWM/Pulse 출력 지원 여부 확인 (모션 제어용) |

------

### ✅ 제조사별 출력 모듈 예시

| 제조사        | 디지털 출력 모듈     | 아날로그 출력 모듈 |
| ------------- | -------------------- | ------------------ |
| Siemens       | SM 1222 DO           | SM 1232 AO         |
| Mitsubishi    | FX5-16EY             | FX5-4DA            |
| LS산전        | XBC-DR32 / XBF-DO32A | XBF-DA04A          |
| Allen-Bradley | 1769-OB16            | 1769-OF4           |
| Omron         | CJ1W-OD212           | CJ1W-DA041         |

------

### ✅ 정리

- **출력 모듈은 PLC가 외부 세계를 제어하는 팔과 다리**에 해당한다.
- **디지털 출력은 단순 ON/OFF 동작**,
   **아날로그 출력은 연속적인 정밀 제어**를 위한 출력 장치다.
- 설계 시 부하 특성, 출력 방식, 전압/전류 정격, 절연 여부 등을 반드시 고려해야 한다.

## 2.5 통신 모듈 (Ethernet, RS232/485, Profibus 등)

### ✅ 개요

**통신 모듈(Communication Module)**은 PLC가 **외부 장비(다른 PLC, 센서, HMI, SCADA, PC 등)**와
 데이터를 **송수신할 수 있도록 해주는 인터페이스 장치**다.
 현대 산업 자동화 시스템은 단순한 입출력 제어를 넘어서, 다양한 장비 간 **데이터 공유와 네트워크 통신**이 핵심이기 때문에, 통신 모듈은 필수적인 구성 요소가 되었다.

------

### ✅ 주요 통신 목적

| 목적                       | 설명                                          |
| -------------------------- | --------------------------------------------- |
| **PLC ↔ HMI 연동**         | 터치스크린과 데이터를 주고받아 사용자 UI 구성 |
| **PLC ↔ SCADA 시스템**     | 공장 전체 모니터링/제어 및 데이터 로깅 수행   |
| **PLC ↔ PLC 간 통신**      | 분산 제어 시스템 구성 및 동기화               |
| **PLC ↔ 센서/인버터/서보** | 필드 장치와 실시간 통신하여 정밀 제어         |
| **PLC ↔ 클라우드/PC**      | 원격 제어, IoT, 예지보전 시스템 통합          |

------

### ✅ 대표적인 통신 방식

------

#### 1. **RS-232 (Serial)**

| 항목          | 설명                                       |
| ------------- | ------------------------------------------ |
| **물리 방식** | 점대점(Point-to-Point)                     |
| **속도**      | 최대 약 115.2 kbps                         |
| **거리**      | 15m 이하 권장                              |
| **특징**      | 단순, 저속, 노이즈 민감                    |
| **용도**      | PC ↔ PLC 프로그래밍 통신, 저가형 센서 연동 |

------

#### 2. **RS-485 (Serial Bus)**

| 항목          | 설명                                                      |
| ------------- | --------------------------------------------------------- |
| **물리 방식** | 다지점(Multi-Point Bus)                                   |
| **속도**      | 최대 10 Mbps (실제는 9600~115200 bps 많이 사용)           |
| **거리**      | 1.2 km 이상 (저속 기준)                                   |
| **특징**      | 다수 장치 연결, 강한 노이즈 내성                          |
| **용도**      | Modbus RTU 기반 통신, 인버터, 센서 연결 등 현장 적용 다양 |

------

#### 3. **Ethernet (TCP/IP 기반)**

| 항목          | 설명                                                      |
| ------------- | --------------------------------------------------------- |
| **물리 방식** | 표준 LAN (RJ45)                                           |
| **속도**      | 10/100/1000 Mbps                                          |
| **프로토콜**  | Modbus TCP, Ethernet/IP, Profinet, OPC UA 등              |
| **용도**      | HMI, SCADA, PC, 서버 연동 / 클라우드 / 멀티PLC 네트워크   |
| **특징**      | 빠른 속도, 표준화, 광범위한 호환성, 실시간 처리 보완 필요 |

------

#### 4. **Profibus**

| 항목          | 설명                                                         |
| ------------- | ------------------------------------------------------------ |
| **물리 방식** | RS-485 기반 필드버스                                         |
| **속도**      | 최대 12 Mbps                                                 |
| **구성**      | Master-Slave 구조                                            |
| **특징**      | 실시간 제어에 강함, 안정성 높음                              |
| **용도**      | 센서, 모터 드라이브, I/O 블록 제어 등 고신뢰성 네트워크 필요 시 |

------

#### 5. **Profinet**

| 항목          | 설명                                                         |
| ------------- | ------------------------------------------------------------ |
| **물리 방식** | Ethernet 기반 (실시간 처리 확장)                             |
| **속도**      | 100 Mbps ~ 1 Gbps                                            |
| **특징**      | 실시간성과 호환성 동시 확보, 고속 데이터 전송                |
| **용도**      | 산업용 이더넷에서 고성능 통신 필요 시, Siemens 계열에서 주로 사용 |

------

#### 6. **CAN / CANopen**

| 항목     | 설명                                           |
| -------- | ---------------------------------------------- |
| **기반** | 차량, 기계, 로봇 등에 쓰이는 통신 버스         |
| **특징** | 짧은 거리, 고속, 충돌 방지 우선순위 있음       |
| **용도** | 서보, 모터, 센서 제어 등 고정밀 모션 제어 환경 |

------

### ✅ 통신 프로토콜 예시

| 프로토콜        | 설명                                      |
| --------------- | ----------------------------------------- |
| **Modbus RTU**  | RS-485 기반 대표 필드버스 프로토콜        |
| **Modbus TCP**  | Ethernet 기반, 단순 구조와 넓은 호환성    |
| **EtherNet/IP** | Allen-Bradley 계열, CIP 기반              |
| **OPC UA**      | 플랫폼 독립적인 통합 데이터 통신 프로토콜 |
| **MQTT**        | 경량 메시징, IoT 클라우드 연동에 특화     |

------

### ✅ 통신 모듈 구성 예시 (실제 PLC 시스템)

```
[PLC CPU] → [통신 모듈1: RS-485 (Modbus RTU)] → 인버터, 서보, I/O 확장
                   ↘
                    [통신 모듈2: Ethernet (Modbus TCP)] → SCADA, HMI, 원격서버
```

------

### ✅ 제조사별 통신 모듈 예시

| 제조사        | RS-232/485 모듈        | Ethernet 모듈 | 기타                   |
| ------------- | ---------------------- | ------------- | ---------------------- |
| Siemens       | CP340, CP341           | CP343-1       | Profibus DP, Profinet  |
| Mitsubishi    | FX3U-485ADP            | FX5-ENET      | CC-Link                |
| LS산전        | XBL-COM                | XBL-ENET      | Modbus TCP, RTU 지원   |
| Omron         | CJ1W-SCU               | CJ1W-ETN21    | EtherCAT               |
| Allen-Bradley | 1769-SDN, 1761-NET-ENI | 1769-L3x      | Ethernet/IP, DeviceNet |

------

### ✅ 실무 적용 시 고려사항

| 항목                     | 고려 포인트                                             |
| ------------------------ | ------------------------------------------------------- |
| **통신 거리**            | 장거리 → RS-485, 단거리 → Ethernet                      |
| **속도 요구**            | 고속/대역폭 필요 시 Ethernet, 실시간성은 Profinet       |
| **마스터/슬레이브 구성** | 어떤 장치가 제어권을 가질 것인가?                       |
| **호환성**               | 사용하는 장비의 통신 포맷/전압/프로토콜과 일치해야 함   |
| **중복성/안정성**        | 이중화 구성 가능 여부                                   |
| **배선/노이즈**          | 실드 케이블, 종단저항 필수 고려 (특히 RS-485, Profibus) |

------

### ✅ 정리

- **통신 모듈은 PLC를 다른 장비나 시스템과 연결하는 브릿지 역할**을 한다.
- 현장 조건, 장비 종류, 속도/거리 요구사항에 따라 **RS-232, RS-485, Ethernet, Profibus, Profinet 등**을 선택해야 한다.
- 현대 자동화 환경에서는 단순한 제어보다 **데이터 통합, 원격 제어, IoT 연결**을 위한 통신 설계가 매우 중요하다.

## 2.6 특수 모듈 (온도 제어, 고속 카운터, 모션 제어 등)

### ✅ 개요

**특수 모듈(Special Module)**은 일반적인 **입출력 처리로는 구현하기 어려운 고속/고정밀 작업이나 특수한 기능**을 담당하는 PLC 확장 모듈이다.
 공정의 복잡성, 정밀도, 속도, 데이터 연산 요구가 높아짐에 따라
 **온도, 고속 펄스, 위치 제어, 모션, 아날로그 연산 등 전문 기능**이 분리된 모듈로 제공된다.

------

### ✅ 특수 모듈의 역할과 종류 요약

| 모듈 종류                   | 기능                                                       |
| --------------------------- | ---------------------------------------------------------- |
| **온도 제어 모듈**          | 열전대, RTD 등의 온도 센서로부터 신호 입력 → PID 제어 출력 |
| **고속 카운터 모듈**        | 고속 펄스 신호를 실시간으로 계수/처리 (1kHz ~ MHz 단위)    |
| **모션 제어 모듈**          | 서보 모터, 스테핑 모터의 위치/속도/가감속 제어             |
| **위치 결정 모듈**          | 다축 서보 제어용 (선형/회전 위치 제어)                     |
| **펄스 출력 모듈**          | PWM, 펄스 트레인 등을 외부로 출력 (인버터, 서보 지령 등)   |
| **아날로그 연산 모듈**      | 아날로그 신호의 산술처리, 필터링, 비교 연산 등             |
| **로드셀 입력 모듈**        | 중량 측정용 로드셀 신호를 정밀하게 받아서 처리             |
| **특수 프로토콜 통신 모듈** | RFID, 바코드 리더기 등 사용자 정의 프로토콜 처리           |

------

### ✅ 1. 온도 제어 모듈

| 항목          | 내용                                           |
| ------------- | ---------------------------------------------- |
| **입력 센서** | Thermocouple (K, J, T 등), RTD (Pt100, Pt1000) |
| **출력 제어** | Relay, SSR, 4~20mA 아날로그 출력               |
| **기능**      | PID 자동제어, 히스테리시스 제어, 온도 알람     |
| **활용 예시** | 히터 제어, 반응조 온도 제어, 오븐 제어 등      |

------

### ✅ 2. 고속 카운터 모듈

| 항목          | 내용                                                         |
| ------------- | ------------------------------------------------------------ |
| **입력 방식** | A/B 위상 엔코더, 펄스 신호                                   |
| **해상도**    | 수 kHz ~ 수 MHz 단위까지 지원                                |
| **기능**      | 계수, 비교, 재설정, 캡쳐, 방향 판별                          |
| **활용 예시** | 고속 라벨 감지, 위치 계측, 회전수 측정, 엔코더 기반 위치 제어 |

------

### ✅ 3. 모션 제어 모듈

| 항목          | 내용                                                         |
| ------------- | ------------------------------------------------------------ |
| **제어 대상** | 서보 모터, 스테핑 모터                                       |
| **축 수**     | 1축 ~ 32축까지 확장 가능                                     |
| **출력**      | 펄스(Pulse) 또는 EtherCAT, SSCNET, Mechatrolink              |
| **기능**      | 위치 제어, 속도 제어, 가감속 곡선, 동기 제어, 원운동/선운동 보간 |
| **활용 예시** | XY 테이블, 로봇 암, 이송 시스템, 카메라 위치 보정 등         |

------

### ✅ 4. 위치 결정 모듈

> 모션 제어 모듈과 유사하지만 **사전 등록된 위치 패턴**에 따라 자동 이동하는 기능 중심

| 항목                 | 내용                                                |
| -------------------- | --------------------------------------------------- |
| **위치 데이터 등록** | 내부 메모리에 최대 수백 개의 위치값 저장            |
| **트리거 방식**      | 조건 발생 시 자동 이동                              |
| **활용 예시**        | 절단기, 절곡기, 라벨 위치 지정, 이송 거리 고정 제어 |

------

### ✅ 5. 아날로그 연산 모듈

| 항목          | 내용                                                       |
| ------------- | ---------------------------------------------------------- |
| **기능**      | 아날로그 입력 간의 연산(합, 차, 평균, 비교 등), 필터링     |
| **활용 예시** | 다채널 온도 비교, 평균값 출력, 아날로그 알람 조건 판별     |
| **필요성**    | PLC 기본 CPU로는 처리 어려운 연산 속도/정밀도 필요 시 사용 |

------

### ✅ 6. 로드셀 모듈

| 항목          | 설명                                            |
| ------------- | ----------------------------------------------- |
| **기능**      | 저전압(μV) 로드셀 신호 증폭 및 디지털 변환      |
| **특징**      | 고정밀 24비트 A/D 변환기 내장, 필터 보정 기능   |
| **활용 예시** | 포장기, 계량기, 충전 시스템 등 중량 측정 자동화 |

------

### ✅ 7. 특수 통신/프로토콜 모듈

| 항목          | 설명                                            |
| ------------- | ----------------------------------------------- |
| **기능**      | 사용자 정의 ASCII/HEX 기반 프로토콜 전송/수신   |
| **활용 예시** | RFID 리더기, 바코드 스캐너, 전광판 통신         |
| **프로토콜**  | 일반 UART 외, 특정 장비 전용 API 통신 구현 가능 |

------

### ✅ 제조사별 특수 모듈 예시

| 제조사        | 온도 제어  | 고속 카운터 | 모션 제어               |
| ------------- | ---------- | ----------- | ----------------------- |
| Siemens       | SM1231 TC  | FM350-1     | TM Drive, SINAMICS      |
| Mitsubishi    | FX3U-4LC   | FX3U-2HC    | QD75, MR-J4-B           |
| LS산전        | XBF-TC04S  | XBF-HCNT    | XMC-E32A                |
| Omron         | CJ1W-TC001 | CJ1W-CT021  | CJ1W-NC[][][]           |
| Allen-Bradley | 1769-IF8TC | 1769-HSC    | Kinetix 5500, 2094-AMPx |

------

### ✅ 실무 설계 시 고려사항

| 항목                     | 고려 내용                                                |
| ------------------------ | -------------------------------------------------------- |
| **모듈당 채널 수**       | 몇 개의 입력/출력을 처리해야 하는가                      |
| **샘플링 속도 / 정밀도** | 고속 처리/고분해능이 필요한지                            |
| **센서/모터 호환성**     | 연결되는 장치의 전압, 전류, 통신방식과 맞는가            |
| **제어 방식**            | PID, 위치 지정, 보간 제어, 트리거 연동 등 기능 지원 여부 |
| **환경 조건**            | 열/진동/노이즈가 많은 공정에서 사용 가능한가             |

------

### ✅ 정리

- **특수 모듈은 PLC 시스템의 확장성과 전문성을 높이는 핵심 요소**다.
- 일반 모듈로는 구현이 어려운 **고속성, 정밀성, 연속제어**를 실현할 수 있도록 도와준다.
- 다양한 공정 제어와 고정밀 장비 통합에 반드시 고려해야 할 고급 기능군이다.

## 2.7 메모리 구조 (RAM, ROM, Flash, 백업 배터리)

### ✅ 개요

PLC는 내부적으로 **다양한 종류의 메모리**를 사용하여
 **프로그램, 변수, 설정값, 연산 결과, 시스템 상태** 등을 저장하고 처리한다.

각 메모리 영역은 **용도와 특성에 따라 분리되어 있으며**,
 정전 시에도 데이터를 보존해야 하는 부분과
 실행 중에만 사용하는 임시 데이터 저장 공간이 명확히 구분된다.

------

### ✅ PLC의 주요 메모리 종류 요약

| 메모리 종류               | 용도                                     | 휘발성 여부          | 보존 방법          |
| ------------------------- | ---------------------------------------- | -------------------- | ------------------ |
| **ROM**                   | 시스템 펌웨어 저장                       | 비휘발성             | 영구 보존          |
| **Flash Memory**          | 사용자 프로그램, 설정값 저장             | 비휘발성             | 영구 보존          |
| **RAM**                   | 연산 중간값, 임시 변수, 타이머 카운트 등 | 휘발성               | 배터리로 보존 가능 |
| **Backup SRAM**           | 정전 시에도 보존해야 할 데이터 저장      | 휘발성 + 배터리 유지 | 예: 생산량, 설정값 |
| **EEPROM** (일부 PLC)     | 설정값 백업용                            | 비휘발성             | 영구 보존          |
| **SD 카드 / 외장 메모리** | 프로그램 백업, 로그 저장 등              | 비휘발성             | 교체 가능          |

------

### ✅ 1. ROM (Read-Only Memory)

| 항목     | 설명                                     |
| -------- | ---------------------------------------- |
| **내용** | 제조사에서 제공하는 펌웨어, 시스템 OS 등 |
| **특징** | 수정 불가, PLC의 기초 동작 기반          |
| **예시** | CPU 부팅 코드, 시스템 점검 루틴          |

------

### ✅ 2. Flash Memory

| 항목     | 설명                                            |
| -------- | ----------------------------------------------- |
| **내용** | 사용자가 작성한 래더 프로그램, 파라미터, 초기값 |
| **특징** | 프로그램 다운로드 시 저장, 정전 후에도 유지     |
| **용도** | 프로젝트 코드, HMI 연동 설정 등                 |

------

### ✅ 3. RAM (Random Access Memory)

| 항목          | 설명                                                 |
| ------------- | ---------------------------------------------------- |
| **내용**      | PLC 실행 중의 임시 변수 값, 연산 중간값, 타이머 상태 |
| **특징**      | 전원이 꺼지면 기본적으로 **모두 초기화됨**           |
| **단점 보완** | 일부 RAM은 **배터리 백업 또는 커패시터 유지** 가능   |

------

### ✅ 4. Backup SRAM (배터리 백업 메모리)

| 항목          | 설명                                             |
| ------------- | ------------------------------------------------ |
| **용도**      | 정전 후에도 보존되어야 할 변수/데이터 저장       |
| **예시**      | 생산 개수, 설정값, 사용자 카운터 값 등           |
| **보존 방식** | 리튬 배터리 또는 Super Capacitor 방식으로 유지   |
| **주의사항**  | 배터리 방전 시 데이터 손실 → 교체 주기 관리 필수 |

------

### ✅ 5. EEPROM (Electrically Erasable Programmable ROM)

| 항목     | 설명                                                     |
| -------- | -------------------------------------------------------- |
| **내용** | 설정값, ID, 작은 용량의 변경 가능 데이터                 |
| **특징** | 전원이 꺼져도 유지되며 반복 기록 가능 (수만~수십만 회)   |
| **용도** | 설정값 저장, 계수기 초기값, 기계 ID, 커스터마이즈 데이터 |

------

### ✅ 6. 외장 메모리 (SD 카드 등)

| 항목         | 설명                                             |
| ------------ | ------------------------------------------------ |
| **용도**     | 프로젝트 백업, 로깅 데이터 저장, 펌웨어 업데이트 |
| **형태**     | SD 카드, USB 메모리, 내부 EEPROM 확장            |
| **기능**     | 프로그램 자동 백업, 기록 저장, 교체 가능         |
| **주의사항** | FAT32 포맷, 쓰기 사이클 제한 등 존재             |

------

### ✅ 메모리 구조 다이어그램 (예시)

```
┌────────────────────────┐
│   ROM (시스템 펌웨어)    │ ← 수정 불가
├────────────────────────┤
│ Flash Memory           │ ← 사용자 프로그램, 설정값
├────────────────────────┤
│ RAM                    │ ← 실행 중 임시 값 (정전 시 초기화)
├────────────────────────┤
│ Backup RAM (배터리 유지)│ ← 유지 필요한 설정값, 생산량
├────────────────────────┤
│ EEPROM (선택적)         │ ← 설정 백업, 제품 ID 등
└────────────────────────┘
```

------

### ✅ 실무 설계 시 고려사항

| 항목                              | 고려 포인트                             |
| --------------------------------- | --------------------------------------- |
| **정전 후 데이터 보존 필요 여부** | 생산량, 설정값은 백업 RAM 사용 필수     |
| **배터리 교체 주기**              | 제조사 권장 기간 내 교체 (보통 3~5년)   |
| **플래시 메모리 내구성**          | 반복 쓰기 많을 경우 주의 필요           |
| **EEPROM 사용 제한**              | 너무 잦은 쓰기는 손상 유발 가능         |
| **백업 전략 수립**                | SD 카드, 네트워크로 정기 백업 설정 권장 |

------

### ✅ 제조사별 메모리 구조 예시

| 제조사            | RAM         | Flash       | EEPROM       | 배터리 백업      |
| ----------------- | ----------- | ----------- | ------------ | ---------------- |
| Siemens (S7-1200) | 64 KB ~     | 1 MB ~      | 일부 있음    | CR2032 코인셀    |
| Mitsubishi (FX5)  | 최대 128 KB | 512 KB ~    | 내부 있음    | Super Capacitor  |
| LS산전 (XGT)      | 최대 256 KB | 1 MB ~      | 선택적       | 리튬배터리       |
| Omron (CJ/NJ)     | 64~256 KB   | 2 MB        | EEPROM 있음  | 배터리 모듈      |
| Allen-Bradley     | 다양        | 모듈별 상이 | EEPROM/Flash | 배터리 교체 가능 |

------

### ✅ 정리

- **메모리 구조는 PLC의 동작, 유지보수, 백업 전략의 핵심**이다.
- RAM은 빠르고 휘발성이며, Flash는 영구 저장용, Backup RAM은 정전 후 보존이 필요한 데이터 저장에 사용된다.
- 설계 시 **어떤 데이터가 사라지면 안 되는지**를 판단하고,
   그에 맞는 **메모리 종류와 보호 대책**을 수립해야 한다.

## 2.8 입출력 어드레스 지정 방식

### ✅ 개요

PLC에서 **입력(Input)**과 **출력(Output)** 장치는 **주소(Address)**를 부여받아 관리된다.
 이 주소는 **사용자가 래더 프로그램에서 I/O를 식별**하고 **제어/감시**하기 위해 반드시 필요하다.

📌 PLC는 내부적으로 I/O 모듈의 신호를 **특정한 메모리 공간**에 매핑하여 처리하며,
 이 구조를 통해 **프로그램은 실제 하드웨어와 연결된 신호를 간접적으로 제어**한다.

------

### ✅ PLC의 주소 지정 원칙

| 구분            | 설명                                                         |
| --------------- | ------------------------------------------------------------ |
| **입력 주소**   | 센서, 스위치 등의 상태를 읽는 주소 (예: X0, I0.0 등)         |
| **출력 주소**   | PLC가 장치를 제어하기 위해 사용하는 주소 (예: Y0, Q0.0 등)   |
| **메모리 기반** | 주소는 내부의 메모리 공간으로 매핑됨 (Bit 단위 또는 Word 단위) |

------

### ✅ 주소 지정 방식 유형

#### 📌 1. 절대 주소 방식

모듈의 위치(슬롯)와 채널 번호에 따라 주소를 **정적으로 할당**

- **예시 (Siemens)**
  - 입력: `I0.0`, `I0.1`, `I1.0`
  - 출력: `Q0.0`, `Q0.1`, `Q1.0`

#### 📌 2. 기호 주소 방식 (태그 방식)

입출력에 **의미 있는 이름(태그)**을 부여하여 사용

- 예: `LimitSwitch_1`, `Motor_Start_Button`, `Lamp1_On`
- **기호 사용 장점**: 가독성 향상, 유지보수 용이, 모듈 교체 시에도 코드 수정 최소화

#### 📌 3. 자동 어드레스 매핑

PLC 소프트웨어가 하드웨어 구성을 바탕으로 **자동으로 주소를 할당**

- 예: GX Works3, TIA Portal 등에서 자동 매핑 기능 지원

------

### ✅ 대표 PLC 제조사별 주소 체계

| 제조사            | 입력 주소            | 출력 주소            | 메모리 주소            |
| ----------------- | -------------------- | -------------------- | ---------------------- |
| **Mitsubishi**    | `X0`, `X1`, `X10`    | `Y0`, `Y1`, `Y10`    | `M0`, `D0`, `T0`, `C0` |
| **LS산전**        | `X000`, `X001`       | `Y000`, `Y001`       | `M000`, `D000`         |
| **Siemens (S7)**  | `I0.0`, `I1.1`       | `Q0.0`, `Q1.1`       | `M0.0`, `DB1.DBX2.0`   |
| **Omron**         | `0000.00`, `0000.01` | `0100.00`, `0100.01` | `W0`, `D0`, `C0`       |
| **Allen-Bradley** | `Local:1:I.Data.0`   | `Local:2:O.Data.1`   | `N7:0`, `B3:1/0`       |

------

### ✅ 주소 구분 예시 (Mitsubishi 기준)

| 종류            | 형식            | 설명                        |
| --------------- | --------------- | --------------------------- |
| 입력            | `X0`, `X1`, ... | 외부 입력 센서, 스위치      |
| 출력            | `Y0`, `Y1`, ... | 외부 제어 장치 (램프, 밸브) |
| 내부 릴레이     | `M0`, `M1`, ... | 프로그램 내부 상태 저장용   |
| 타이머          | `T0`, `T1`, ... | 지연 타이머                 |
| 카운터          | `C0`, `C1`, ... | 상승엣지 카운트             |
| 데이터 레지스터 | `D0`, `D1`, ... | 수치값 저장용 (Word 단위)   |

------

### ✅ 주소 할당 방식 예시 (입출력 모듈 기준)

| 슬롯 | 모듈 종류           | 주소 범위                       |
| ---- | ------------------- | ------------------------------- |
| 0    | CPU                 | 시스템 주소                     |
| 1    | 디지털 입력 (16점)  | `X0` ~ `XF` (16진수 기준)       |
| 2    | 디지털 출력 (16점)  | `Y0` ~ `YF`                     |
| 3    | 아날로그 입력 (4ch) | `D0` ~ `D3` 또는 `AI0` ~ `AI3`  |
| 4    | 아날로그 출력 (2ch) | `D10` ~ `D11` 또는 `AO0`, `AO1` |

------

### ✅ 실무 설계 시 고려사항

| 항목               | 설명                                                         |
| ------------------ | ------------------------------------------------------------ |
| **모듈 슬롯 순서** | 슬롯 번호에 따라 주소가 결정되므로 설계 초기부터 계획적으로 배치해야 함 |
| **주소 중복 방지** | 수동 지정 시 겹치지 않도록 주의                              |
| **가독성 향상**    | 기호(tag) 기반 주소로 프로그램 작성 권장                     |
| **배선도 연계**    | 실제 배선 라벨과 주소 체계가 일치해야 디버깅이 쉬움          |
| **메모리 맵 정리** | 전체 주소 체계를 한 눈에 보기 위한 I/O 테이블 문서화 필수    |

------

### ✅ 정리

- PLC의 **입출력 주소 지정은 하드웨어와 소프트웨어를 연결하는 핵심 구조**
- 절대 주소와 기호 주소를 병행하여 **유지보수성과 안정성**을 높일 수 있음
- 주소 설계는 PLC 시스템 구성 시 **초기에 반드시 명확하게 설계해야 하는 중요한 요소**